<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.10 (462261)"/><meta name="author" content="陆泽西"/><meta name="created" content="2021-02-10 08:12:07 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2021-02-10 08:41:52 +0000"/><title>改造jekyll 为iframe框架的博客内容</title></head><body><div><br/></div><div>背景：</div><div><br/></div><div>最近开始用印象笔记写博客，原因是更容易排版和贴图。</div><div><br/></div><div>但jekyll没有链接显示静态页面的方式，于是想到自己搞一个。</div><div><br/></div><div>疑问：</div><div><br/></div><div>jekyll有哪些功能能供我使用？</div><div>我尝试了哪些方法？</div><div>最后是怎么成功搞定iframe在jekyll中显示的？效果如何？</div><div><br/></div><div>内容：</div><div><br/></div><div>尝试使用 link 标签去做静态页面链接</div><div><br/></div><div>参考官方原文：<a href="https://jekyllrb.com/docs/liquid/tags/">https://jekyllrb.com/docs/liquid/tags/</a></div><div><br/></div><div><img src="%E6%94%B9%E9%80%A0jekyll%20%E4%B8%BAiframe%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9.resources/AFF045FB-90EB-4603-B098-B5E23DAABF0F.png" height="1316" width="1400"/><br/></div><div><br/></div><div>发现无法连接到自定义的静态Html页面</div><div><br/></div><div>尝试失败</div><div><br/></div><hr/><div><br/></div><div>于是就研究了整个官方文档</div><div><br/></div><div>才想可以用自定义标签的方式去做</div><div><br/></div><div>源地址：<a href="https://jekyllrb.com/docs/plugins/tags/">https://jekyllrb.com/docs/plugins/tags/</a></div><div><br/></div><div><img src="%E6%94%B9%E9%80%A0jekyll%20%E4%B8%BAiframe%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9.resources/5CA487BD-393A-46D4-A804-F7810828B068.png" height="1178" width="1406"/><br/></div><div><br/></div><div>自定义标签也挺简单的，写个ruby类，然后写重载的Render方法，最后注册一下。</div><div><br/></div><div>最后想想还是有问题，标签只是改变绘制内容，并没有改变编译规则。</div><div><br/></div><div>尝试失败</div><div><br/></div><hr/><div><br/></div><div>于是又想到了用静态模版的方式去做</div><div><br/></div><div>说明地址：<a href="https://jekyllrb.com/docs/includes/">https://jekyllrb.com/docs/includes/</a></div><div><br/></div><div><img src="%E6%94%B9%E9%80%A0jekyll%20%E4%B8%BAiframe%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9.resources/8C50E586-978E-4CB0-BD9B-5ACF3DCD7BAF.png" height="694" width="1456"/><br/></div><div><br/></div><div>此为include 复制模版内容到本地</div><div><br/></div><div><img src="%E6%94%B9%E9%80%A0jekyll%20%E4%B8%BAiframe%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9.resources/76589F36-CB42-4A4C-BB0C-C27A16423F9C.png" height="1086" width="1404"/><br/></div><div><br/></div><div>此为在include静态模版时传参的方式。</div><div><br/></div><div>于是就想到，用include方式去插入模版内容，在模版中加入静态页面的iframe标签，iframe的内容地址则用传参的方式传入。</div><div><br/></div><div>如下：</div><div><img src="%E6%94%B9%E9%80%A0jekyll%20%E4%B8%BAiframe%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9.resources/CA0BF713-A793-45EB-BAC4-4274F1CE42E5.png" height="296" width="1400"/><br/></div><div>静态模版</div><div><br/></div><div><img src="%E6%94%B9%E9%80%A0jekyll%20%E4%B8%BAiframe%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9.resources/8452949B-FA85-4800-A218-72D61908DB17.png" height="132" width="1640"/><br/></div><div>include 并传参，传入的参数是 link_url ，参数内容是一个地址</div><div><br/></div><div>但是这样仍然不行，仍然无法显示iframe的html标签</div><div><br/></div><hr/><div><br/></div><div>于是查了如何在 jekyll中显示 iframe 的问题。</div><div><br/></div><div>答案：<a href="https://stackoverflow.com/questions/31660273/markdown-jekyll-insert-an-iframe-that-fills-the-container">https://stackoverflow.com/questions/31660273/markdown-jekyll-insert-an-iframe-that-fills-the-container</a></div><div><br/></div><div>在css中加入一个标签，并编辑iframe的样式</div><div><br/></div><div><img src="%E6%94%B9%E9%80%A0jekyll%20%E4%B8%BAiframe%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9.resources/01726801-92DC-4B36-9D2E-6777F6A7AB33.png" height="516" width="634"/><br/></div><div><span style="font-family: unset; color: unset;">如上自定义样式，做自己的iframe样式，并在iframe上加入class = </span>“static_post<span style="font-family: unset; color: unset;">"</span></div><div><span style="font-size: unset;"><br/></span></div><div><span style="font-size: unset; color: unset; font-family: unset;">加入了以上这些，但还是有问题啊。很郁闷。</span></div><div><span style="font-size: unset;"><br/></span></div><div>于是又搜索了这个问题，找到了几个奇葩的答案，尝试了下。</div><div><br/></div><div>答案：<a href="https://github.com/jekyll/jekyll/issues/346">https://github.com/jekyll/jekyll/issues/346</a></div><div><br/></div><div>意思是说，是iframe的标签参数出了问题，于是抱着死马当活马医的想法试试。果然奏效了。</div><div><br/></div><div>最后成功完成静态页面插入jekyll的目标。</div><div><br/></div><div>以后就可以用印象笔记写文章，然后导出html展示在博客上了。</div><div><br/></div><div>成功截图：</div><div><br/></div><div><img src="%E6%94%B9%E9%80%A0jekyll%20%E4%B8%BAiframe%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9.resources/8579F7E6-8421-4C48-9543-D027AE497B49.png" height="1568" width="2478"/><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>